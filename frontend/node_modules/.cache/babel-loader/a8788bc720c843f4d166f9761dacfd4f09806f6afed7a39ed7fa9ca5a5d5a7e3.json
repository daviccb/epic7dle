{"ast":null,"code":"import React,{useState,useEffect}from'react';import Cookies from'js-cookie';import'./MainGame.css';/*\r\nTODO:\r\nadd more background pictures\r\n  2020.06.25 - loading dots\r\n  2020.11.12 - /img/base_dagger1.png\r\n  2020.12.24 - /img/guide_bg5.png\r\n  2021.01.21 - automaton bgs x4\r\n  2021.03.18 - (white equipment set icons, no bg)\r\n  2021.04.15 - /img/base_pvplive_season_04.png\r\n  2021.05.27 - /img/bg_moonlight_destiny.png\r\n  2021.07.08 - square bgs with borders\r\n  2021.08.05 - /img/base_pvplive_season_05.png\r\n  2021.10.28 - rta backgrounds x5\r\n  2021.11.25 - /img/pvp_rta_ss6_r.png\r\n  2022.02.17 - AI icons + heart health icons + magn glass icon\r\n  2022.03.03 - notif bell + discord + other icons\r\n  2022.03.17 - favorite star icons\r\n  2022.03.31 - /img/pvp_rta_ss7_r.png + sparkles\r\n  2022.04.28 - double up/down icons\r\n  2022.06.23 - /img/icon_menu_theater.png (icon to replace current moonlight region icon?) + (x) icon and more\r\n  2022.07.21 - /img/pvp_rta_ss8_r.png\r\n  2022.08.04 - (-) and (+) icons\r\n  2022.08.18 - /img/z_custom_fullmetal_bg.png\r\n  2022.09.01 - bg x2\r\n  2022.11.10 - /img/pvp_rta_ss9_r.png\r\n  2022.11.24 - /img/lobby_pub_mockup.png\r\n  2023.02.16 - /img/z_memory_bg.png + copy icon:  /img/icon_menu_copy.png\r\n  2023.03.02 - /img/pvp_rta_ss10_r.png\r\n  2023.05.11 - new variant\r\n  2023.06.22 - /img/pvp_rta_ss11_r.png\r\n  2023.08.03 - /title/bg/ggst_title2022.png\r\n  2023.10.12 - /img/pvp_rta_ss12_r.png\r\n  2023.11.09 - /img/base_unit_blue.png *YESSSSSSSSSSSSSSSSSSS*\r\n               /img/_btn_blue_r.png\r\n               + BUTTONS\r\n  2024.02.01 - /img/pvp_rta_ss13_r.png + https://www.e7vau.lt/static/datamine/2024/20240215/title/bg/24_valentine_bg.png\r\n  2024.03.14 - /img/pvp_draft_1_r.png\r\n  2024.03.28 - /story/ folder\r\n  2024.05.23 - /img/pvp_rta_ss14_r.png + LULUCA bg -> https://www.e7vau.lt/static/datamine/2024/20240523/story/bg/img_vsu3aa_1.webp\r\n  2024.06.05 - https://www.e7vau.lt/static/datamine/2024/20240605/img/e7wc_event_bg.png\r\n  2024.06.20 - /img/pvp_bg_blur.png (backdrop)\r\n  2024.07.04 - /img/_box_shop_special.png + /story/\r\n  2024.07.18 - /story/bg/img_e7wc_2024_collab.webp\r\n  2024.08.01 - rythm game images + /story/\r\n  2024.09.02 - bgs + /story/ + dividing lines\r\n}\r\n\r\npost-game guess review in info center (add share button?) (clipboard icon)\r\nstyle settings page (iconname toggle buttons + background changing)\r\nredo rarity stars with awakened ones\r\nadd emojis to result message\r\n\r\nredo json for cleaner hover titles\r\n\r\nfix layout + add theme (green buttons from game?) (nice borders) (style the dropdown)\r\nmake pretty\r\nanimations\r\n\r\nsagittarius\r\nretake characterAssets:\r\n  bmhaste (top of scythe is cut off)\r\n  chaos sect axe ?\r\n  taranor guard ?\r\n  taranor royal guard ?\r\n  kikirat v2 ?\r\n  angelic momo (take without effect)\r\n  aux lots (is blinking)\r\n  maid chloe\r\n*/import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MainGame(_ref){let{visibility}=_ref;const[input,setInput]=useState('');const[guesses,setGuesses]=useState([]);const[gameState,setGameState]=useState(false);const[feedback,setFeedback]=useState('');const[characters,setCharacters]=useState([]);const[filteredCharacters,setFilteredCharacters]=useState([]);const[solution,setSolution]=useState(null);// State to hold the solution\nconst[highestStreak,setHighestStreak]=useState(0);const[imageSrc,setImageSrc]=useState(null);const MAX_GUESSES=5;const imageMap={//element\nice:'https://epic7db.com/images/elements/Ice-circle.png',wind:'https://epic7db.com/images/elements/Earth-circle.png',fire:'https://epic7db.com/images/elements/Fire-circle.png',light:'https://epic7db.com/images/elements/Light-circle.png',dark:'https://epic7db.com/images/elements/Dark-circle.png',//rarity\n3:'/rarityAssets/3-star.png',4:'/rarityAssets/4-star.png',5:'/rarityAssets/5-star.png',//class\nknight:'/classAssets/Knight.png',mage:'/classAssets/Mage.png',ranger:'/classAssets/Ranger.png',soulweaver:'/classAssets/Soul Weaver.png',assassin:'/classAssets/Thief.png',warrior:'/classAssets/Warrior.png',//zodiac\naquarius:'/zodiacAssets/Aquarius.png',aries:'/zodiacAssets/Aries.png',cancer:'/zodiacAssets/Cancer.png',capricorn:'/zodiacAssets/Capricorn.png',gemini:'/zodiacAssets/Gemini.png',leo:'/zodiacAssets/Leo.png',libra:'/zodiacAssets/Libra.png',pisces:'/zodiacAssets/Pisces.png',sagittarius:'/zodiacAssets/Sagittarius.png',scorpio:'/zodiacAssets/Scorpio.png',taurus:'/zodiacAssets/Taurus.png',virgo:'/zodiacAssets/Virgo.png',//region\nstars:'/regionAssets/stargenes.png',ritania:'/regionAssets/ritania.png',death:'/regionAssets/landofdeath.png',cidonia:'/regionAssets/cidonia.png',eureka:'/regionAssets/eureka.png',natalon:'/regionAssets/natalon.png',erasia:'/regionAssets/erasia.png',foreign:'/regionAssets/foreignland.png',moonlight:'/regionAssets/moonlight.png',specialty:'/regionAssets/specialtychange.png',collab:'/regionAssets/collaboration.png'};const nameMap={//element\nice:'Ice',wind:'Earth',fire:'Fire',light:'Light',dark:'Dark',//rarity\n3:'3-star',4:'4-star',5:'5-star',//class\nknight:'Knight',mage:'Mage',ranger:'Ranger',soulweaver:'Soul Weaver',assassin:'Thief',warrior:'Warrior',//zodiac\naquarius:'Aquarius',aries:'Aries',cancer:'Cancer',capricorn:'Capricorn',gemini:'Gemini',leo:'Leo',libra:'Libra',pisces:'Pisces',sagittarius:'Sagittarius',scorpio:'Scorpio',taurus:'Taurus',virgo:'Virgo',//region\nstars:'Star Genes',ritania:'Ritania',death:'Land of Death',cidonia:'Cidonia',eureka:'Eureka',natalon:'Natalon',erasia:'Erasia',foreign:'Foreign land',moonlight:'Moonlight',specialty:'Specialty Change',collab:'Collab'};// Win Streak Functions\nconst getHighestStreak=()=>{return parseInt(localStorage.getItem('highestStreak')||'0',10);};const updateHighestStreak=currentStreak=>{const highestStreak=getHighestStreak();if(currentStreak>highestStreak){localStorage.setItem('highestStreak',currentStreak.toString());setHighestStreak(currentStreak);}};const getWinStreak=()=>parseInt(Cookies.get('winStreak')||'0',10);const incrementWinStreak=()=>{const currentStreak=parseInt(Cookies.get('winStreak')||'0',10)+1;Cookies.set('winStreak',currentStreak,{expires:7});updateHighestStreak(currentStreak);};const resetWinStreak=()=>{Cookies.set('winStreak',0,{expires:7});};useEffect(()=>{setHighestStreak(getHighestStreak());},[]);//get characters from json and create list with their data\nuseEffect(()=>{fetch('http://127.0.0.1:5000/api/characters').then(response=>response.json()).then(data=>{const characterList=Object.keys(data).map(key=>({picture:data[key].assets.image,id:data[key]._id,name:key,element:data[key].attribute,class:data[key].role,// Assuming role is equivalent to class\nstarsign:data[key].zodiac,rarity:data[key].rarity,region:data[key].region,date:data[key].date,photo:data[key].assets.icon,hasSkin:data[key].assets.skin.has,skin:data[key].assets.skin.image}));setCharacters(characterList);// Set a random solution from the list\nif(characterList.length>0){const randomIndex=Math.floor(Math.random()*characterList.length);setSolution(characterList[randomIndex]);//[1]\nsetImageSrc(characterList[randomIndex].picture);}});},[]);//sort input dropdown\nuseEffect(()=>{if(input.trim()===''){setFilteredCharacters([]);}else{const filtered=characters.filter(char=>char.name.toLowerCase().includes(input.toLowerCase()));// Sort so that names starting with the input are at the top\nfiltered.sort((a,b)=>{const aStartsWith=a.name.toLowerCase().startsWith(input.toLowerCase());const bStartsWith=b.name.toLowerCase().startsWith(input.toLowerCase());if(aStartsWith&&!bStartsWith){return-1;// a should come before b\n}else if(!aStartsWith&&bStartsWith){return 1;// b should come before a\n}else{return 0;// default order\n}});setFilteredCharacters(filtered);}},[input,characters]);const handleInputChange=event=>{setInput(event.target.value);};const handleGuessSubmit=async()=>{if(input.trim()!==''){// First, disable the button or show a loading indicator (not shown here)\ntry{const response=await fetch(\"http://127.0.0.1:5000/api/characters/\".concat(input.trim()));const details=await response.json();console.log(details);// Check if details are valid and contain 'attribute'\nif(details&&details.attribute){const isCorrect=details._id===solution.id;const newGuess={picture:details.assets.thumbnail,photo:details.assets.icon,guess:input,element:details.attribute,class:details.role,starsign:details.zodiac,region:details.region,rarity:details.rarity,date:details.date,correct:isCorrect};// Set all states at once after the fetch is completed and data is processed\nsetGuesses(prevGuesses=>[newGuess,...prevGuesses]);// Ensures immutability\nsetInput('');// Clear input\nsetGameState(isCorrect?true:false);// game win\nif(isCorrect===true){incrementWinStreak();updateHighestStreak();}else{if(guesses.length+1>=MAX_GUESSES){setGameState(true);// game loss\nresetWinStreak();}}setFeedback(isCorrect?'Correct! Well done.':'Incorrect, try again!');}else{// Handle case where no valid details are returned\nsetFeedback('Failed to fetch details for the character. Try again.');}}catch(error){console.error('Failed to fetch character details:',error);setFeedback('Error fetching character details.');}finally{// Re-enable the button or hide loading indicator here\n}}};const resetGame=async()=>{// Reset game state\nsetInput('');setGuesses([]);setGameState(false);setFeedback('');// Fetch a new solution from your character list or backend if neede\ntry{const response=await fetch('http://127.0.0.1:5000/api/characters');const data=await response.json();const characterList=Object.keys(data).map(key=>({picture:data[key].assets.image,id:data[key]._id,name:key,element:data[key].attribute,class:data[key].role,starsign:data[key].zodiac,region:data[key].region,rarity:data[key].rarity,date:data[key].date,photo:data[key].assets.icon,hasSkin:data[key].assets.skin.has,skin:data[key].assets.skin.image}));setCharacters(characterList);if(characterList.length>0){const randomIndex=Math.floor(Math.random()*characterList.length);setSolution(characterList[randomIndex]);setImageSrc(characterList[randomIndex].picture);}}catch(error){console.error('Failed to fetch new characters:',error);setFeedback('Failed to load new game data.');}};// Toggle handler to change the image source\nconst toggleImage=()=>{// Check if the current image is the default picture\nif(imageSrc===solution.picture){setImageSrc(solution.skin);// Change to skin image\n}else{setImageSrc(solution.picture);// Change back to default image\n}};useEffect(()=>{console.log(\"Image source updated:\",imageSrc);// Any other action that needs to run right after imageSrc updates\n},[imageSrc]);// Dependency array includes imageSrc to watch for change\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"main-game\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"character-display\",children:gameState&&solution?/*#__PURE__*/_jsxs(\"div\",{className:\"solution-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageSrc,alt:\"Character\",className:\"character-imagesol\"}),solution.hasSkin===\"true\"&&/*#__PURE__*/_jsx(\"button\",{className:\"skin-button\",onClick:toggleImage,children:/*#__PURE__*/_jsx(\"img\",{src:'miscAssets/skin.png',alt:\"Toggle Skin\",className:\"skin-button-icon\"})})]}):/*#__PURE__*/_jsx(\"img\",{src:'miscAssets/avatar-npc0000.png',alt:\"Character\",className:\"character-image-blank\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"gamemodetitle-text\",children:\"Endless Mode\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"tries-text\",children:[\"Tries \",guesses.length,\"/\",MAX_GUESSES]}),/*#__PURE__*/_jsxs(\"div\",{className:\"streak-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDD25   Streak: \",getWinStreak(),\"   \\uD83D\\uDD25\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDD25\\uD83D\\uDD25 Highest score: \",highestStreak,\" \\uD83D\\uDD25\\uD83D\\uDD25\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"guess-input\",children:!gameState?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-button-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter character name...\",value:input,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"guessbtn\",onClick:handleGuessSubmit,children:\"Guess\"})]}),filteredCharacters.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"autocomplete-dropdown\",children:filteredCharacters.map(character=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>setInput(character.name),children:[/*#__PURE__*/_jsx(\"img\",{src:character.photo,alt:character.name}),character.name]},character.id))})]}):/*#__PURE__*/_jsxs(\"div\",{className:guesses[0].guess===solution.name?'end-screen-correct':'end-screen-incorrect',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"end-message-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:guesses[0].guess===solution.name?'/emoticonAssets/extracted_image_32.png':'/emoticonAssets/extracted_image_6.png',alt:\"emoticon\",className:\"emoji1\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"end-message-text\",children:feedback}),/*#__PURE__*/_jsx(\"img\",{src:guesses[0].guess===solution.name?'/emoticonAssets/extracted_image_7.png':'/emoticonAssets/extracted_image_16.png',alt:\"emoticon\",className:\"emoji2\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"caption\",{children:\"Your Score\"}),/*#__PURE__*/_jsx(\"tbody\",{children:guesses.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:'score-cell'}),/*#__PURE__*/_jsx(\"td\",{className:item.guess===solution.name?'correct-score':'incorrect-score'}),/*#__PURE__*/_jsx(\"td\",{className:item.element===solution.element?'correct-score':'incorrect-score'}),/*#__PURE__*/_jsx(\"td\",{className:item.class===solution.class?'correct-score':'incorrect-score'}),/*#__PURE__*/_jsx(\"td\",{className:item.starsign===solution.starsign?'correct-score':'incorrect-score'}),/*#__PURE__*/_jsx(\"td\",{className:item.region===solution.region?'correct-score':'incorrect-score'}),/*#__PURE__*/_jsx(\"td\",{className:item.rarity===solution.rarity?'correct-score':'incorrect-score'}),/*#__PURE__*/_jsx(\"td\",{className:item.date===solution.date?'correct-score':'incorrect-score'})]},index))})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:resetGame,className:\"play-again-button\",children:\"Play Again\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"guess-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Element\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Class\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Star Sign\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Region\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rarity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Release Year\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:guesses.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:'photo-cell',children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:item.photo,className:\"character-imageicon\"})}),/*#__PURE__*/_jsx(\"td\",{className:item.guess===solution.name?'correct-answer':'incorrect-answer',children:item.guess}),/*#__PURE__*/_jsx(\"td\",{className:item.element===solution.element?'correct-answer':'incorrect-answer',children:/*#__PURE__*/_jsxs(\"div\",{className:\"iconname-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageMap[item.element],alt:item.element,title:item.element}),visibility.element&&/*#__PURE__*/_jsx(\"p\",{className:\"iconname\",children:nameMap[item.element]})]})}),/*#__PURE__*/_jsx(\"td\",{className:item.class===solution.class?'correct-answer':'incorrect-answer',children:/*#__PURE__*/_jsxs(\"div\",{className:\"iconname-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageMap[item.class],alt:item.class,title:item.class}),visibility.class&&/*#__PURE__*/_jsx(\"p\",{className:\"iconname\",children:nameMap[item.class]})]})}),/*#__PURE__*/_jsx(\"td\",{className:item.starsign===solution.starsign?'correct-answer':'incorrect-answer',children:/*#__PURE__*/_jsxs(\"div\",{className:\"iconname-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageMap[item.starsign],alt:item.starsign,title:item.starsign}),visibility.starsign&&/*#__PURE__*/_jsx(\"p\",{className:\"iconname\",children:nameMap[item.starsign]})]})}),/*#__PURE__*/_jsx(\"td\",{className:item.region===solution.region?'correct-answer':'incorrect-answer',children:/*#__PURE__*/_jsxs(\"div\",{className:\"iconname-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageMap[item.region],alt:item.region,title:item.region,className:\"character-regionicon\"}),visibility.region&&/*#__PURE__*/_jsx(\"p\",{className:\"iconname\",children:nameMap[item.region]})]})}),/*#__PURE__*/_jsx(\"td\",{className:item.rarity===solution.rarity?'correct-answer':'incorrect-answer',children:/*#__PURE__*/_jsxs(\"div\",{className:\"iconname-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageMap[item.rarity],alt:item.rarity,title:item.rarity}),visibility.rarity&&/*#__PURE__*/_jsx(\"p\",{className:\"iconname\",children:nameMap[item.rarity]})]})}),/*#__PURE__*/_jsx(\"td\",{className:item.date===solution.date?'correct-answer':'incorrect-answer',children:/*#__PURE__*/_jsxs(\"div\",{className:\"date-container\",children:[item.date>solution.date&&/*#__PURE__*/_jsxs(_Fragment,{children:[item.date,/*#__PURE__*/_jsx(\"img\",{src:Math.abs(item.date-solution.date)>=3?'arrowAssets/arrow2_down.png':'arrowAssets/arrow1_down.png',alt:\"arrow down\"})]}),item.date<solution.date&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:Math.abs(item.date-solution.date)>=3?'arrowAssets/arrow2_up.png':'arrowAssets/arrow1_up.png',alt:\"arrow up\"}),item.date]}),item.date===solution.date&&/*#__PURE__*/_jsx(\"span\",{children:item.date})]})})]},index))})]})}),solution&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Debug: Solution is \",solution.name]})]});}export default MainGame;","map":{"version":3,"names":["React","useState","useEffect","Cookies","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainGame","_ref","visibility","input","setInput","guesses","setGuesses","gameState","setGameState","feedback","setFeedback","characters","setCharacters","filteredCharacters","setFilteredCharacters","solution","setSolution","highestStreak","setHighestStreak","imageSrc","setImageSrc","MAX_GUESSES","imageMap","ice","wind","fire","light","dark","knight","mage","ranger","soulweaver","assassin","warrior","aquarius","aries","cancer","capricorn","gemini","leo","libra","pisces","sagittarius","scorpio","taurus","virgo","stars","ritania","death","cidonia","eureka","natalon","erasia","foreign","moonlight","specialty","collab","nameMap","getHighestStreak","parseInt","localStorage","getItem","updateHighestStreak","currentStreak","setItem","toString","getWinStreak","get","incrementWinStreak","set","expires","resetWinStreak","fetch","then","response","json","data","characterList","Object","keys","map","key","picture","assets","image","id","_id","name","element","attribute","class","role","starsign","zodiac","rarity","region","date","photo","icon","hasSkin","skin","has","length","randomIndex","Math","floor","random","trim","filtered","filter","char","toLowerCase","includes","sort","a","b","aStartsWith","startsWith","bStartsWith","handleInputChange","event","target","value","handleGuessSubmit","concat","details","console","log","isCorrect","newGuess","thumbnail","guess","correct","prevGuesses","error","resetGame","toggleImage","className","children","src","alt","onClick","type","placeholder","onChange","character","item","index","title","abs"],"sources":["C:/Users/David/Desktop/epic7dle/frontend/src/components/MainGameDir/MainGame.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport './MainGame.css';\r\n\r\n/*\r\nTODO:\r\nadd more background pictures\r\n  2020.06.25 - loading dots\r\n  2020.11.12 - /img/base_dagger1.png\r\n  2020.12.24 - /img/guide_bg5.png\r\n  2021.01.21 - automaton bgs x4\r\n  2021.03.18 - (white equipment set icons, no bg)\r\n  2021.04.15 - /img/base_pvplive_season_04.png\r\n  2021.05.27 - /img/bg_moonlight_destiny.png\r\n  2021.07.08 - square bgs with borders\r\n  2021.08.05 - /img/base_pvplive_season_05.png\r\n  2021.10.28 - rta backgrounds x5\r\n  2021.11.25 - /img/pvp_rta_ss6_r.png\r\n  2022.02.17 - AI icons + heart health icons + magn glass icon\r\n  2022.03.03 - notif bell + discord + other icons\r\n  2022.03.17 - favorite star icons\r\n  2022.03.31 - /img/pvp_rta_ss7_r.png + sparkles\r\n  2022.04.28 - double up/down icons\r\n  2022.06.23 - /img/icon_menu_theater.png (icon to replace current moonlight region icon?) + (x) icon and more\r\n  2022.07.21 - /img/pvp_rta_ss8_r.png\r\n  2022.08.04 - (-) and (+) icons\r\n  2022.08.18 - /img/z_custom_fullmetal_bg.png\r\n  2022.09.01 - bg x2\r\n  2022.11.10 - /img/pvp_rta_ss9_r.png\r\n  2022.11.24 - /img/lobby_pub_mockup.png\r\n  2023.02.16 - /img/z_memory_bg.png + copy icon:  /img/icon_menu_copy.png\r\n  2023.03.02 - /img/pvp_rta_ss10_r.png\r\n  2023.05.11 - new variant\r\n  2023.06.22 - /img/pvp_rta_ss11_r.png\r\n  2023.08.03 - /title/bg/ggst_title2022.png\r\n  2023.10.12 - /img/pvp_rta_ss12_r.png\r\n  2023.11.09 - /img/base_unit_blue.png *YESSSSSSSSSSSSSSSSSSS*\r\n               /img/_btn_blue_r.png\r\n               + BUTTONS\r\n  2024.02.01 - /img/pvp_rta_ss13_r.png + https://www.e7vau.lt/static/datamine/2024/20240215/title/bg/24_valentine_bg.png\r\n  2024.03.14 - /img/pvp_draft_1_r.png\r\n  2024.03.28 - /story/ folder\r\n  2024.05.23 - /img/pvp_rta_ss14_r.png + LULUCA bg -> https://www.e7vau.lt/static/datamine/2024/20240523/story/bg/img_vsu3aa_1.webp\r\n  2024.06.05 - https://www.e7vau.lt/static/datamine/2024/20240605/img/e7wc_event_bg.png\r\n  2024.06.20 - /img/pvp_bg_blur.png (backdrop)\r\n  2024.07.04 - /img/_box_shop_special.png + /story/\r\n  2024.07.18 - /story/bg/img_e7wc_2024_collab.webp\r\n  2024.08.01 - rythm game images + /story/\r\n  2024.09.02 - bgs + /story/ + dividing lines\r\n}\r\n\r\npost-game guess review in info center (add share button?) (clipboard icon)\r\nstyle settings page (iconname toggle buttons + background changing)\r\nredo rarity stars with awakened ones\r\nadd emojis to result message\r\n\r\nredo json for cleaner hover titles\r\n\r\nfix layout + add theme (green buttons from game?) (nice borders) (style the dropdown)\r\nmake pretty\r\nanimations\r\n\r\nsagittarius\r\nretake characterAssets:\r\n  bmhaste (top of scythe is cut off)\r\n  chaos sect axe ?\r\n  taranor guard ?\r\n  taranor royal guard ?\r\n  kikirat v2 ?\r\n  angelic momo (take without effect)\r\n  aux lots (is blinking)\r\n  maid chloe\r\n*/\r\n\r\n\r\n\r\nfunction MainGame({ visibility }) {\r\n  const [input, setInput] = useState('');\r\n  const [guesses, setGuesses] = useState([]);\r\n  const [gameState, setGameState] = useState(false);\r\n  const [feedback, setFeedback] = useState('');\r\n  const [characters, setCharacters] = useState([]);\r\n  const [filteredCharacters, setFilteredCharacters] = useState([]);\r\n  const [solution, setSolution] = useState(null);  // State to hold the solution\r\n  const [highestStreak, setHighestStreak] = useState(0);\r\n  const [imageSrc, setImageSrc] = useState(null);\r\n\r\n\r\n  const MAX_GUESSES = 5;\r\n  const imageMap = {\r\n    //element\r\n    ice: 'https://epic7db.com/images/elements/Ice-circle.png',\r\n    wind: 'https://epic7db.com/images/elements/Earth-circle.png',\r\n    fire: 'https://epic7db.com/images/elements/Fire-circle.png',\r\n    light: 'https://epic7db.com/images/elements/Light-circle.png',\r\n    dark: 'https://epic7db.com/images/elements/Dark-circle.png',\r\n\r\n    //rarity\r\n    3: '/rarityAssets/3-star.png',\r\n    4: '/rarityAssets/4-star.png',\r\n    5: '/rarityAssets/5-star.png',\r\n\r\n    //class\r\n    knight: '/classAssets/Knight.png',\r\n    mage: '/classAssets/Mage.png',\r\n    ranger: '/classAssets/Ranger.png',\r\n    soulweaver: '/classAssets/Soul Weaver.png',\r\n    assassin: '/classAssets/Thief.png',\r\n    warrior: '/classAssets/Warrior.png',\r\n\r\n    //zodiac\r\n    aquarius: '/zodiacAssets/Aquarius.png',\r\n    aries: '/zodiacAssets/Aries.png',\r\n    cancer: '/zodiacAssets/Cancer.png',\r\n    capricorn: '/zodiacAssets/Capricorn.png',\r\n    gemini: '/zodiacAssets/Gemini.png',\r\n    leo: '/zodiacAssets/Leo.png',\r\n    libra: '/zodiacAssets/Libra.png',\r\n    pisces: '/zodiacAssets/Pisces.png',\r\n    sagittarius: '/zodiacAssets/Sagittarius.png',\r\n    scorpio: '/zodiacAssets/Scorpio.png',\r\n    taurus: '/zodiacAssets/Taurus.png',\r\n    virgo: '/zodiacAssets/Virgo.png',\r\n\r\n    //region\r\n    stars: '/regionAssets/stargenes.png',\r\n    ritania: '/regionAssets/ritania.png',\r\n    death: '/regionAssets/landofdeath.png',\r\n    cidonia: '/regionAssets/cidonia.png',\r\n    eureka: '/regionAssets/eureka.png',\r\n    natalon: '/regionAssets/natalon.png',\r\n    erasia: '/regionAssets/erasia.png',\r\n    foreign: '/regionAssets/foreignland.png',\r\n    moonlight: '/regionAssets/moonlight.png',\r\n    specialty: '/regionAssets/specialtychange.png',\r\n    collab: '/regionAssets/collaboration.png',\r\n  };\r\n  const nameMap = {\r\n    //element\r\n    ice: 'Ice',\r\n    wind: 'Earth',\r\n    fire: 'Fire',\r\n    light: 'Light',\r\n    dark: 'Dark',\r\n\r\n    //rarity\r\n    3: '3-star',\r\n    4: '4-star',\r\n    5: '5-star',\r\n\r\n    //class\r\n    knight: 'Knight',\r\n    mage: 'Mage',\r\n    ranger: 'Ranger',\r\n    soulweaver: 'Soul Weaver',\r\n    assassin: 'Thief',\r\n    warrior: 'Warrior',\r\n\r\n    //zodiac\r\n    aquarius: 'Aquarius',\r\n    aries: 'Aries',\r\n    cancer: 'Cancer',\r\n    capricorn: 'Capricorn',\r\n    gemini: 'Gemini',\r\n    leo: 'Leo',\r\n    libra: 'Libra',\r\n    pisces: 'Pisces',\r\n    sagittarius: 'Sagittarius',\r\n    scorpio: 'Scorpio',\r\n    taurus: 'Taurus',\r\n    virgo: 'Virgo',\r\n\r\n    //region\r\n    stars: 'Star Genes',\r\n    ritania: 'Ritania',\r\n    death: 'Land of Death',\r\n    cidonia: 'Cidonia',\r\n    eureka: 'Eureka',\r\n    natalon: 'Natalon',\r\n    erasia: 'Erasia',\r\n    foreign: 'Foreign land',\r\n    moonlight: 'Moonlight',\r\n    specialty: 'Specialty Change',\r\n    collab: 'Collab',\r\n  }\r\n\r\n  // Win Streak Functions\r\n  const getHighestStreak = () => {\r\n    return parseInt(localStorage.getItem('highestStreak') || '0', 10);\r\n  };\r\n  const updateHighestStreak = (currentStreak) => {\r\n    const highestStreak = getHighestStreak();\r\n    if (currentStreak > highestStreak) {\r\n      localStorage.setItem('highestStreak', currentStreak.toString());\r\n      setHighestStreak(currentStreak);\r\n    }\r\n  };\r\n  const getWinStreak = () => parseInt(Cookies.get('winStreak') || '0', 10);\r\n  const incrementWinStreak = () => {\r\n    const currentStreak = parseInt(Cookies.get('winStreak') || '0', 10) + 1;\r\n    Cookies.set('winStreak', currentStreak, { expires: 7 });\r\n    updateHighestStreak(currentStreak);\r\n  };\r\n  const resetWinStreak = () => {\r\n    Cookies.set('winStreak', 0, { expires: 7 });\r\n  };\r\n  useEffect(() => {\r\n    setHighestStreak(getHighestStreak());\r\n  }, []);\r\n\r\n  //get characters from json and create list with their data\r\n  useEffect(() => {\r\n    fetch('http://127.0.0.1:5000/api/characters')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        const characterList = Object.keys(data).map(key => ({\r\n          picture: data[key].assets.image,\r\n          id: data[key]._id,\r\n          name: key,\r\n          element: data[key].attribute,\r\n          class: data[key].role, // Assuming role is equivalent to class\r\n          starsign: data[key].zodiac,\r\n          rarity: data[key].rarity,\r\n          region: data[key].region,\r\n          date: data[key].date,\r\n          photo: data[key].assets.icon,\r\n          hasSkin: data[key].assets.skin.has,\r\n          skin: data[key].assets.skin.image\r\n        }));\r\n        setCharacters(characterList);\r\n        // Set a random solution from the list\r\n        if (characterList.length > 0) {\r\n          const randomIndex = Math.floor(Math.random() * characterList.length);\r\n          setSolution(characterList[randomIndex]); //[1]\r\n          setImageSrc(characterList[randomIndex].picture);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  //sort input dropdown\r\n  useEffect(() => {\r\n    if (input.trim() === '') {\r\n      setFilteredCharacters([]);\r\n    } else {\r\n      const filtered = characters.filter(char =>\r\n        char.name.toLowerCase().includes(input.toLowerCase())\r\n      );\r\n\r\n      // Sort so that names starting with the input are at the top\r\n      filtered.sort((a, b) => {\r\n        const aStartsWith = a.name.toLowerCase().startsWith(input.toLowerCase());\r\n        const bStartsWith = b.name.toLowerCase().startsWith(input.toLowerCase());\r\n        if (aStartsWith && !bStartsWith) {\r\n          return -1;  // a should come before b\r\n        } else if (!aStartsWith && bStartsWith) {\r\n          return 1;  // b should come before a\r\n        } else {\r\n          return 0;  // default order\r\n        }\r\n      });\r\n\r\n      setFilteredCharacters(filtered);\r\n    }\r\n  }, [input, characters]);\r\n\r\n\r\n  const handleInputChange = (event) => {\r\n    setInput(event.target.value);\r\n  };\r\n\r\n\r\n  const handleGuessSubmit = async () => {\r\n    if (input.trim() !== '') {\r\n      // First, disable the button or show a loading indicator (not shown here)\r\n\r\n      try {\r\n        const response = await fetch(`http://127.0.0.1:5000/api/characters/${input.trim()}`);\r\n        const details = await response.json();\r\n        console.log(details);\r\n\r\n        // Check if details are valid and contain 'attribute'\r\n        if (details && details.attribute) {\r\n          const isCorrect = details._id === solution.id;\r\n          const newGuess = {\r\n            picture: details.assets.thumbnail,\r\n            photo: details.assets.icon,\r\n            guess: input,\r\n            element: details.attribute,\r\n            class: details.role,\r\n            starsign: details.zodiac,\r\n            region: details.region,\r\n            rarity: details.rarity,\r\n            date: details.date,\r\n            correct: isCorrect\r\n          };\r\n\r\n          // Set all states at once after the fetch is completed and data is processed\r\n          setGuesses(prevGuesses => [newGuess, ...prevGuesses]); // Ensures immutability\r\n          setInput(''); // Clear input\r\n\r\n          setGameState(isCorrect ? true : false); // game win\r\n\r\n          if (isCorrect === true) {\r\n            incrementWinStreak();\r\n            updateHighestStreak();\r\n          }\r\n          else {\r\n            if (guesses.length + 1 >= MAX_GUESSES) {\r\n              setGameState(true); // game loss\r\n              resetWinStreak();\r\n            }\r\n          }\r\n          setFeedback(isCorrect ? 'Correct! Well done.' : 'Incorrect, try again!');\r\n\r\n        } else {\r\n          // Handle case where no valid details are returned\r\n          setFeedback('Failed to fetch details for the character. Try again.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch character details:', error);\r\n        setFeedback('Error fetching character details.');\r\n      } finally {\r\n        // Re-enable the button or hide loading indicator here\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetGame = async () => {\r\n    // Reset game state\r\n    setInput('');\r\n    setGuesses([]);\r\n    setGameState(false);\r\n    setFeedback('');\r\n\r\n    // Fetch a new solution from your character list or backend if neede\r\n    try {\r\n      const response = await fetch('http://127.0.0.1:5000/api/characters');\r\n      const data = await response.json();\r\n      const characterList = Object.keys(data).map(key => ({\r\n        picture: data[key].assets.image,\r\n        id: data[key]._id,\r\n        name: key,\r\n        element: data[key].attribute,\r\n        class: data[key].role,\r\n        starsign: data[key].zodiac,\r\n        region: data[key].region,\r\n        rarity: data[key].rarity,\r\n        date: data[key].date,\r\n        photo: data[key].assets.icon,\r\n        hasSkin: data[key].assets.skin.has,\r\n        skin: data[key].assets.skin.image\r\n      }));\r\n      setCharacters(characterList);\r\n      if (characterList.length > 0) {\r\n        const randomIndex = Math.floor(Math.random() * characterList.length);\r\n        setSolution(characterList[randomIndex]);\r\n        setImageSrc(characterList[randomIndex].picture);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch new characters:', error);\r\n      setFeedback('Failed to load new game data.');\r\n    }\r\n  };\r\n\r\n  \r\n\r\n    // Toggle handler to change the image source\r\n    const toggleImage = () => {\r\n        // Check if the current image is the default picture\r\n        if (imageSrc === solution.picture) {\r\n            setImageSrc(solution.skin);  // Change to skin image\r\n        } else {\r\n            setImageSrc(solution.picture);  // Change back to default image\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n      console.log(\"Image source updated:\", imageSrc);\r\n      // Any other action that needs to run right after imageSrc updates\r\n    }, [imageSrc]);  // Dependency array includes imageSrc to watch for change\r\n\r\n\r\n  return (\r\n    <div className=\"main-game\">\r\n\r\n\r\n      <div className=\"game-container\">\r\n        <div className=\"character-display\">\r\n          {gameState && solution ? (\r\n            <div className='solution-container'>\r\n              <img src={imageSrc} alt=\"Character\" className=\"character-imagesol\" />\r\n              {solution.hasSkin === \"true\" && (\r\n                <button className=\"skin-button\" onClick={toggleImage}>\r\n                    <img src={'miscAssets/skin.png'} alt=\"Toggle Skin\" className=\"skin-button-icon\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <img src={'miscAssets/avatar-npc0000.png'} alt=\"Character\" className=\"character-image-blank\" />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"game-info\">\r\n          <h1 className='gamemodetitle-text'>Endless Mode</h1>\r\n          <h3 className='tries-text' >Tries {guesses.length}/{MAX_GUESSES}</h3>\r\n          <div className=\"streak-info\">\r\n            <p>ðŸ”¥   Streak: {getWinStreak()}   ðŸ”¥</p>\r\n            <p>ðŸ”¥ðŸ”¥ Highest score: {highestStreak} ðŸ”¥ðŸ”¥</p>\r\n          </div>\r\n\r\n          <div className=\"guess-input\">\r\n            {!gameState ? (\r\n              <>\r\n                <div className=\"input-button-wrapper\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter character name...\"\r\n                    value={input}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  <button className='guessbtn' onClick={handleGuessSubmit}>Guess</button>\r\n                </div>\r\n                {filteredCharacters.length > 0 && (\r\n                  <ul className=\"autocomplete-dropdown\">\r\n                    {filteredCharacters.map(character => (\r\n                      <li key={character.id} onClick={() => setInput(character.name)}>\r\n                        <img src={character.photo} alt={character.name} />\r\n                        {character.name}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <div className={guesses[0].guess === solution.name ? 'end-screen-correct' : 'end-screen-incorrect'}>\r\n                <div className='end-message-container'>\r\n                  <img src={guesses[0].guess === solution.name ? '/emoticonAssets/extracted_image_32.png' : '/emoticonAssets/extracted_image_6.png'} alt='emoticon' className=\"emoji1\"/>\r\n                  <h1 className='end-message-text'>{feedback}</h1>\r\n                  <img src={guesses[0].guess === solution.name ? '/emoticonAssets/extracted_image_7.png' : '/emoticonAssets/extracted_image_16.png'} alt='emoticon' className=\"emoji2\"/>\r\n                </div>\r\n                <div className=\"summary-table\">\r\n                  <table>\r\n                  <caption>Your Score</caption>\r\n                    <tbody>\r\n                      {guesses.map((item, index) => (\r\n                        <tr key={index}>\r\n                          <td className={'score-cell'}>\r\n                          </td>\r\n                          <td className={item.guess === solution.name ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                          <td className={item.element === solution.element ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                          <td className={item.class === solution.class ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                          <td className={item.starsign === solution.starsign ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                          <td className={item.region === solution.region ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                          <td className={item.rarity === solution.rarity ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                          <td className={item.date === solution.date ? 'correct-score' : 'incorrect-score'}>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <button onClick={resetGame} className=\"play-again-button\">Play Again</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"guess-table\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Photo</th>\r\n              <th>Name</th>\r\n              <th>Element</th>\r\n              <th>Class</th>\r\n              <th>Star Sign</th>\r\n              <th>Region</th>\r\n              <th>Rarity</th>\r\n              <th>Release Year</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {guesses.map((item, index) => (\r\n              <tr key={index}>\r\n                <td className={'photo-cell'}>\r\n                  <img src={item.photo} alt={item.photo} className=\"character-imageicon\"/>\r\n                </td>\r\n                <td className={item.guess === solution.name ? 'correct-answer' : 'incorrect-answer'}>\r\n                  {item.guess}\r\n                </td>\r\n                <td className={item.element === solution.element ? 'correct-answer' : 'incorrect-answer'}>\r\n                  <div className='iconname-container'>\r\n                    <img src={imageMap[item.element]} alt={item.element} title={item.element}/>\r\n                    {visibility.element && <p className='iconname'>{nameMap[item.element]}</p>}\r\n                  </div>\r\n                </td>\r\n                <td className={item.class === solution.class ? 'correct-answer' : 'incorrect-answer'}>\r\n                  <div className='iconname-container'>\r\n                    <img src={imageMap[item.class]} alt={item.class} title={item.class}/>\r\n                    {visibility.class && <p className='iconname'>{nameMap[item.class]}</p>}\r\n                  </div>\r\n                </td>\r\n                <td className={item.starsign === solution.starsign ? 'correct-answer' : 'incorrect-answer'}>\r\n                  <div className='iconname-container'>\r\n                    <img src={imageMap[item.starsign]} alt={item.starsign} title={item.starsign}/>\r\n                    {visibility.starsign && <p className='iconname'>{nameMap[item.starsign]}</p>}\r\n                  </div>\r\n                </td>\r\n                <td className={item.region === solution.region ? 'correct-answer' : 'incorrect-answer'}>\r\n                  <div className='iconname-container'>\r\n                    <img src={imageMap[item.region]} alt={item.region} title={item.region} className=\"character-regionicon\"/>\r\n                    {visibility.region && <p className='iconname'>{nameMap[item.region]}</p>}\r\n                  </div>\r\n                </td>\r\n                <td className={item.rarity === solution.rarity ? 'correct-answer' : 'incorrect-answer'}>\r\n                  <div className='iconname-container'>\r\n                    <img src={imageMap[item.rarity]} alt={item.rarity} title={item.rarity}/>\r\n                    {visibility.rarity && <p className='iconname'>{nameMap[item.rarity]}</p>}\r\n                  </div>\r\n                </td>\r\n                <td className={item.date === solution.date ? 'correct-answer' : 'incorrect-answer'}>\r\n                  <div className='date-container'>\r\n                    {item.date > solution.date &&\r\n                      <>\r\n                        {item.date}\r\n                        <img src={Math.abs(item.date - solution.date) >= 3 ? 'arrowAssets/arrow2_down.png' : 'arrowAssets/arrow1_down.png'} alt='arrow down' /> \r\n                      </>\r\n                    }\r\n                    {item.date < solution.date &&\r\n                      <>\r\n                        <img src={Math.abs(item.date - solution.date) >= 3 ? 'arrowAssets/arrow2_up.png' : 'arrowAssets/arrow1_up.png'} alt='arrow up' />\r\n                        {item.date}\r\n                      </>\r\n                    }\r\n                    {item.date === solution.date &&\r\n                      <span>{item.date}</span>\r\n                    }\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {solution && <div>Debug: Solution is {solution.name}</div>}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default MainGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}