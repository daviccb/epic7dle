{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nconst useWordle = solution => {\n  _s();\n  const [turn, setTurn] = useState(0);\n  const [currentGuess, setCurrentGuess] = useState('');\n  const [guesses, setGuesses] = useState([...Array(6)]); // each guess is an array\n  const [history, setHistory] = useState([]); // each guess is a string\n  const [isCorrect, setIsCorrect] = useState(false);\n  const [usedKeys, setUsedKeys] = useState({}); // {a: 'grey', b: 'green', c: 'yellow'} etc\n\n  // format a guess into an array of letter objects \n  // e.g. [{key: 'a', color: 'yellow'}]\n  const formatGuess = () => {\n    let solutionArray = [...solution];\n    let formattedGuess = [...currentGuess].map(l => {\n      return {\n        key: l,\n        color: 'grey'\n      };\n    });\n\n    // find any green letters\n    formattedGuess.forEach((l, i) => {\n      if (solution[i] === l.key) {\n        formattedGuess[i].color = 'green';\n        solutionArray[i] = null;\n      }\n    });\n\n    // find any yellow letters\n    formattedGuess.forEach((l, i) => {\n      if (solutionArray.includes(l.key) && l.color !== 'green') {\n        formattedGuess[i].color = 'yellow';\n        solutionArray[solutionArray.indexOf(l.key)] = null;\n      }\n    });\n    return formattedGuess;\n  };\n\n  // add a new guess to the guesses state\n  // update the isCorrect state if the guess is correct\n  // add one to the turn state\n  const addNewGuess = formattedGuess => {\n    if (currentGuess === solution) {\n      setIsCorrect(true);\n    }\n    setGuesses(prevGuesses => {\n      let newGuesses = [...prevGuesses];\n      newGuesses[turn] = formattedGuess;\n      return newGuesses;\n    });\n    setHistory(prevHistory => {\n      return [...prevHistory, currentGuess];\n    });\n    setTurn(prevTurn => {\n      return prevTurn + 1;\n    });\n    setUsedKeys(prevUsedKeys => {\n      formattedGuess.forEach(l => {\n        const currentColor = prevUsedKeys[l.key];\n        if (l.color === 'green') {\n          prevUsedKeys[l.key] = 'green';\n          return;\n        }\n        if (l.color === 'yellow' && currentColor !== 'green') {\n          prevUsedKeys[l.key] = 'yellow';\n          return;\n        }\n        if (l.color === 'grey' && currentColor !== ('green' || 'yellow')) {\n          prevUsedKeys[l.key] = 'grey';\n          return;\n        }\n      });\n      return prevUsedKeys;\n    });\n    setCurrentGuess('');\n  };\n\n  // handle keyup event & track current guess\n  // if user presses enter, add the new guess\n  const handleKeyup = ({\n    key\n  }) => {\n    if (key === 'Enter') {\n      // only add guess if turn is less than 5\n      if (turn > 5) {\n        console.log('you used all your guesses!');\n        return;\n      }\n      // do not allow duplicate words\n      if (history.includes(currentGuess)) {\n        console.log('you already tried that word.');\n        return;\n      }\n      // check word is 5 chars\n      if (currentGuess.length !== 5) {\n        console.log('word must be 5 chars.');\n        return;\n      }\n      const formatted = formatGuess();\n      addNewGuess(formatted);\n    }\n    if (key === 'Backspace') {\n      setCurrentGuess(prev => prev.slice(0, -1));\n      return;\n    }\n    if (/^[A-Za-z]$/.test(key)) {\n      if (currentGuess.length < 5) {\n        setCurrentGuess(prev => prev + key);\n      }\n    }\n  };\n  return {\n    turn,\n    currentGuess,\n    guesses,\n    isCorrect,\n    usedKeys,\n    handleKeyup\n  };\n};\n_s(useWordle, \"pbfF6lXJkK2HExjvqYaC4MQFrL4=\");\nexport default useWordle;","map":{"version":3,"names":["useState","useWordle","solution","_s","turn","setTurn","currentGuess","setCurrentGuess","guesses","setGuesses","Array","history","setHistory","isCorrect","setIsCorrect","usedKeys","setUsedKeys","formatGuess","solutionArray","formattedGuess","map","l","key","color","forEach","i","includes","indexOf","addNewGuess","prevGuesses","newGuesses","prevHistory","prevTurn","prevUsedKeys","currentColor","handleKeyup","console","log","length","formatted","prev","slice","test"],"sources":["C:/Users/David/Desktop/epic7dle/src/hooks/useWordle.js"],"sourcesContent":["import { useState } from 'react'\n\nconst useWordle = (solution) => {\n  const [turn, setTurn] = useState(0) \n  const [currentGuess, setCurrentGuess] = useState('')\n  const [guesses, setGuesses] = useState([...Array(6)]) // each guess is an array\n  const [history, setHistory] = useState([]) // each guess is a string\n  const [isCorrect, setIsCorrect] = useState(false)\n  const [usedKeys, setUsedKeys] = useState({}) // {a: 'grey', b: 'green', c: 'yellow'} etc\n\n  // format a guess into an array of letter objects \n  // e.g. [{key: 'a', color: 'yellow'}]\n  const formatGuess = () => {\n    let solutionArray = [...solution]\n    let formattedGuess = [...currentGuess].map((l) => {\n      return {key: l, color: 'grey'}\n    })\n\n    // find any green letters\n    formattedGuess.forEach((l, i) => {\n      if (solution[i] === l.key) {\n        formattedGuess[i].color = 'green'\n        solutionArray[i] = null\n      }\n    })\n    \n    // find any yellow letters\n    formattedGuess.forEach((l, i) => {\n      if (solutionArray.includes(l.key) && l.color !== 'green') {\n        formattedGuess[i].color = 'yellow'\n        solutionArray[solutionArray.indexOf(l.key)] = null\n      }\n    })\n\n    return formattedGuess\n  }\n\n  // add a new guess to the guesses state\n  // update the isCorrect state if the guess is correct\n  // add one to the turn state\n  const addNewGuess = (formattedGuess) => {\n    if (currentGuess === solution) {\n      setIsCorrect(true)\n    }\n    setGuesses(prevGuesses => {\n      let newGuesses = [...prevGuesses]\n      newGuesses[turn] = formattedGuess\n      return newGuesses\n    })\n    setHistory(prevHistory => {\n      return [...prevHistory, currentGuess]\n    })\n    setTurn(prevTurn => {\n      return prevTurn + 1\n    })\n    setUsedKeys(prevUsedKeys => {\n      formattedGuess.forEach(l => {\n        const currentColor = prevUsedKeys[l.key]\n\n        if (l.color === 'green') {\n          prevUsedKeys[l.key] = 'green'\n          return\n        }\n        if (l.color === 'yellow' && currentColor !== 'green') {\n          prevUsedKeys[l.key] = 'yellow'\n          return\n        }\n        if (l.color === 'grey' && currentColor !== ('green' || 'yellow')) {\n          prevUsedKeys[l.key] = 'grey'\n          return\n        }\n      })\n\n      return prevUsedKeys\n    })\n    setCurrentGuess('')\n  }\n\n  // handle keyup event & track current guess\n  // if user presses enter, add the new guess\n  const handleKeyup = ({ key }) => {\n    if (key === 'Enter') {\n      // only add guess if turn is less than 5\n      if (turn > 5) {\n        console.log('you used all your guesses!')\n        return\n      }\n      // do not allow duplicate words\n      if (history.includes(currentGuess)) {\n        console.log('you already tried that word.')\n        return\n      }\n      // check word is 5 chars\n      if (currentGuess.length !== 5) {\n        console.log('word must be 5 chars.')\n        return\n      }\n      const formatted = formatGuess()\n      addNewGuess(formatted)\n    }\n    if (key === 'Backspace') {\n      setCurrentGuess(prev => prev.slice(0, -1))\n      return\n    }\n    if (/^[A-Za-z]$/.test(key)) {\n      if (currentGuess.length < 5) {\n        setCurrentGuess(prev => prev + key)\n      }\n    }\n  }\n\n  return {turn, currentGuess, guesses, isCorrect, usedKeys, handleKeyup}\n}\n\nexport default useWordle"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}